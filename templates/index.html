{% extends "base.html" %}

{% block title %}Content Editorial Assistant - Intelligent Writing Analysis{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index-page.css') }}" />
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="pf-v5-l-grid pf-m-gutter hero-container">
        <!-- Left Column: Main Content -->
        <div class="pf-v5-l-grid__item pf-m-8-col-on-lg pf-m-12-col">
            <div class="hero-content">
                <!-- Hero Title & Icon -->
                <div class="hero-title-wrapper pf-v5-u-mb-xl">
                    <h1 class="hero-title pf-v5-u-mb-md">
                        Transform Your Writing with AI
                    </h1>
                    <div class="hero-subtitle-wrapper">
                        <p class="hero-subtitle pf-v5-u-mb-lg">
                            Upload your documents and get instant, professional feedback on writing style, grammar, and clarity. 
                            Our advanced AI analysis helps you write with confidence and authority.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modern Unified Editor Section -->
<section class="modern-editor-section">
    <div class="editor-container">
        <!-- Modern Content Editor -->
        <div class="content-editor-wrapper">
            <div class="editor-card">
                <!-- Editor Header -->
                <div class="editor-header">
                    <div class="editor-title-section">
                        <h2 class="editor-title">
                            <i class="fas fa-edit editor-title-icon"></i>
                            Start Your Analysis
                        </h2>
                        <p class="editor-subtitle">
                            Upload a document or paste your content to get instant AI-powered feedback
                        </p>
                    </div>
                </div>

                <!-- Editor Body -->
                <div class="editor-body">
                    <!-- Input Methods Tabs -->
                    <div class="input-method-tabs">
                        <button class="input-tab active" data-method="text">
                            <i class="fas fa-keyboard"></i>
                            <span>Write or Paste</span>
                        </button>
                        <button class="input-tab" data-method="upload">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Upload File</span>
                        </button>
                    </div>

                    <!-- Text Input Area -->
                    <div class="input-area text-input-area active" id="text-input-area">
                        <div class="editor-interface">
                            <div class="editor-toolbar">
                                <div class="toolbar-left">
                                    <span class="word-count" id="word-count">0 words</span>
                                    <span class="char-count" id="char-count">0 characters</span>
                                </div>
                                <div class="toolbar-right">
                                    <button class="toolbar-btn" onclick="loadSampleText()" title="Load sample text">
                                        <i class="fas fa-lightbulb"></i>
                                        <span>Try Sample</span>
                                    </button>
                                    <button class="toolbar-btn" onclick="clearEditor()" title="Clear content">
                                        <i class="fas fa-eraser"></i>
                                        <span>Clear</span>
                                    </button>
                                </div>
                            </div>
                            <textarea 
                                class="modern-editor" 
                                id="text-input" 
                                name="text-input"
                                placeholder="Paste your content here or start writing...

Try pasting:
• Blog posts or articles
• Technical documentation  
• Business communications
• Academic papers
• Marketing copy

Our AI will analyze your writing for style, grammar, readability, and structure."
                            ></textarea>
                        </div>
                    </div>

                    <!-- File Upload Area -->
                    <div class="input-area file-upload-area" id="upload-input-area">
                        <input type="file" id="file-input" class="hidden-input" accept=".pdf,.docx,.md,.adoc,.dita,.txt">
                        <div class="upload-interface" id="upload-area">
                            <div class="upload-content">
                                <div class="upload-icon-wrapper">
                                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                </div>
                                <h3 class="upload-title">Drop your document here</h3>
                                <p class="upload-description">
                                    or <button class="upload-link" onclick="document.getElementById('file-input').click()">browse files</button>
                                </p>
                                <div class="supported-formats">
                                    <div class="formats-list">
                                        <span class="format-item">PDF</span>
                                        <span class="format-item">DOCX</span>
                                        <span class="format-item">Markdown</span>
                                        <span class="format-item">AsciiDoc</span>
                                        <span class="format-item">DITA</span>
                                    </div>
                                    <p class="size-limit">Maximum file size: 16MB</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="editor-actions">
                        <button class="primary-action" onclick="analyzeEditorContent()" disabled id="analyze-btn">
                            <i class="fas fa-magic"></i>
                            <span>Analyze Content</span>
                            <div class="button-shine"></div>
                        </button>
                        <div class="action-help">
                            <i class="fas fa-info-circle"></i>
                            <span>Analysis takes 2-5 seconds</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Results Section -->
<section class="pf-v5-u-py-lg">
    <div class="pf-v5-l-grid pf-m-gutter">
        <div class="pf-v5-l-grid__item pf-m-12-col">
            <div id="analysis-results" class="fade-in">
                <!-- Analysis results will be displayed here by JavaScript -->
            </div>
        </div>
        <div class="pf-v5-l-grid__item pf-m-12-col">
            <div id="rewrite-results" class="fade-in">
                <!-- Rewrite results will be displayed here by JavaScript -->
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<!-- Index page JavaScript is loaded via index-page.js -->
{% endblock %}
